<!DOCTYPE html>
<html>
<head>
	<title>Mattching Game part4</title>
	<style>
	img {
		position: absolute;

	}
	div {
		position: absolute;
		width: 500px;
		height: 500px;

	}
	#rightside {
		left: 500px;
		border-left: 1px solid black;
	}

	</style>
</head>
<body>
<h1>Matching Game</h1>
<p>Click on the extra smiling face on the left.</p>
<div id="leftside">

	
</div>

<div id="rightside">
	
</div>
<script>
var numberOfFaces = 5;
var theLeftSide = document.getElementById("leftside");
var theRightSide = document.getElementById("rightside");
var theBody = document.getElementsByTagName("body")[0];
var count = 0;


function generateFaces () {
		while(theLeftSide.firstChild){
			theLeftSide.removeChild(theLeftSide.firstChild);
		}
		while(theRightSide.firstChild){
			theRightSide.removeChild(theRightSide.firstChild);
		}


	for (i =0; i < numberOfFaces; i++){
		elem_img = document.createElement("img");
		elem_img.src = "http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
		elem_img.style.top = Math.floor(Math.random()*401) + "px";
		elem_img.style.left = Math.floor(Math.random()*401) + "px";
		theLeftSide.appendChild(elem_img);

	}
	var leftSideImages = theLeftSide.cloneNode(true);
	leftSideImages.removeChild(leftSideImages.lastChild);
	theRightSide.appendChild(leftSideImages);

	theLeftSide.lastChild.onclick = function nextLevel(event) {
		event.stopPropagation();
		numberOfFaces += 5;
		count++;
		alert("Level" + count + "!");
		generateFaces();
	}
}

generateFaces();
	theBody.onclick = function gameover() {
		alert("Game Over! and you have passed " + count + " level !");
		theBody.onclick = null;
		theLeftSide.lastChild.onclick = null;
	}
</script>

</body>
</html>